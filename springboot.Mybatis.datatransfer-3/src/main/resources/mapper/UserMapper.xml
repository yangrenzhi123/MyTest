<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yang.test.java.springboot.dao.UserDao">
	<select id="page" resultType="RecycleRecord">
		select * from h_recycle_record where etl is null limit 1000
	</select>

	<insert id="insertBatch" parameterType="java.util.List">
		insert into h_etl_recycle_record(recyclerecordid,tenantgroupid,tfsj,flag) 
		values
		<foreach collection="list" item="item" index="index" separator=",">
		(
			#{item.recyclerecordid},
			#{item.tenantgroupid},
			#{item.tfsj},
			0
		)
		</foreach>
	</insert>
	
	

	<update id="updateBatch" parameterType="java.util.List">
		update h_recycle_record set etl = 1
		where recyclerecordzzid in (<foreach collection="list" item="item" index="index" separator=",">#{item.recyclerecordzzid}</foreach>)
	</update>
</mapper>